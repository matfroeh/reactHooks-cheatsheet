<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/daisyui@latest"></script> -->
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="src/quickref-classic.css" />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>

    <script type="module">
      import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs";
      mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
      /* Hier kann unsere TailwindCSS-Konfiguration hin. (Auch die obige tailwind.config laesst sich (fast) wie gewohnt ausbauen) */
    </style>
    <title>React Hooks</title>
  </head>
  <body>
    <header
      class="flex items-center gap-8 px-8 md:px-16 lg:px-32 py-4 bg-[#F7F9FE]"
    >
      <figure class="w-14 h-auto">
        <img class="w-full h-full" src="img/header_icon.svg" alt="" />
      </figure>
      <h1 class="font-sans text-[#8A9BBC] text-4xl">React Hooks: Cheatsheet</h1>
      <nav></nav>
    </header>

    <main class="mt-8 p-4">
      <div class="flex flex-col gap-4 px-8 md:px-16 lg:px-32 max-w-6xl">
        <h1 class="text-2xl mb-5 font-bold">Hooks in React</h1>

        <div>
          <h1 class="text-xl mb-2">Key concept:</h1>
          <p>
            Hooks allow the usage of React features inside of functional components
          </p>
        </div>

        <div class="section">
          <h2 class="text-xl mt-4">1. useState</h2>
        </div>

        <div class="section">
          <h2 class="text-xl mb-2">2. useEffect</h2>
          <div class="language-javascript">
            <pre><code>useEffect(() => {
              // code to run when useEffect is triggered

              return () => {
                // clean up: code to run when the component is unmounted
              }
            }, [dependencies triggering the effect]);
          </code></pre>
          </div>
          <p>
            From official docs: synchronize a component with an
            <u>external</u>(!) system.
          </p>
          <ul class="list-disc list-inside mt-2">
            <li>
              if there is no external system involved, useEffect might be the
              wrong hook for the task
            </li>
            <li>typical use: fetching data with Fetch API or Axios</li>
            <li>
              with <u>no dependency array</u>, useEffect is called after the
              first render and after every re-render of the component
            </li>
            <li>
              with dependencies, useEffect is called after the first render and
              after every update of the dependencies
            </li>
            <li>
              <u>empty</u> dependency array ( [ ] ): useEffect is called only
              once after the first render
            </li>
          </ul>

          <p class="mt-4">Common mistakes:</p>
          <ul class="list-disc list-inside mt-2">
            <li>forgetting to return a cleanup function</li>
            <li>
              infinite loops:
              <div class="language-javascript">
                <pre><code>const [count, setCount] = useState(0); useEffect(() => {
                setCount(count + 1); // Modifying the dependency 'count' inside
                the effect }, [count]); // Dependency array includes 'count'</code></pre>
              </div>
            </li>
          </ul>
        </div>

        <div class="section">
          <h2 class="text-xl">3. useContext</h2>
        </div>
        <br />
      </div>
    </main>
  </body>
</html>
